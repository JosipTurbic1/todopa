<Page navigatedTo="onNavigatedTo">
  <ActionBar title="Aufgaben">
    <ActionItem text="+" tap="goToCreate" ios.position="right" android.position="actionBar" />
  </ActionBar>

  <GridLayout rows="auto, auto, *, auto">

    <StackLayout row="0" orientation="horizontal" margin="12">
      <Button text="To Do" tap="filterToDo" />
      <Button text="In Progress" tap="filterInProgress" />
      <Button text="Done" tap="filterDone" />
      <Button text="Alle" tap="filterAll" />
    </StackLayout>

    <Label row="1" text="{{ syncStatusLabel }}" margin="12" visibility="{{ isEmpty ? 'collapse' : 'visible' }}" />

    <ListView row="2" items="{{ tasks }}" itemTap="onItemTap" visibility="{{ isEmpty ? 'collapse' : 'visible' }}">
      <ListView.itemTemplate>
        <GridLayout columns="*, auto" padding="12">
          <StackLayout col="0">
            <Label text="{{ title }}" class="h2" />
            <Label text="{{ statusLabel }}" />
            <Label text="{{ metaLabel }}" />
          </StackLayout>

          <Label col="1" text="â€º" verticalAlignment="center" />
        </GridLayout>
      </ListView.itemTemplate>
    </ListView>

      <Label row="2"
           text="{{ emptyLabel }}"
           visibility="{{ isEmpty ? 'visible' : 'collapse' }}"
           horizontalAlignment="center"
           verticalAlignment="center"
           textWrap="true"
           margin="12" />

    </GridLayout>
  </Page>
